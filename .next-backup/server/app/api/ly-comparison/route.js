/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/ly-comparison/route";
exports.ids = ["app/api/ly-comparison/route"];
exports.modules = {

/***/ "(rsc)/./node_modules/mysql2/lib sync recursive ^cardinal.*$":
/*!****************************************************!*\
  !*** ./node_modules/mysql2/lib/ sync ^cardinal.*$ ***!
  \****************************************************/
/***/ ((module) => {

function webpackEmptyContext(req) {
	var e = new Error("Cannot find module '" + req + "'");
	e.code = 'MODULE_NOT_FOUND';
	throw e;
}
webpackEmptyContext.keys = () => ([]);
webpackEmptyContext.resolve = webpackEmptyContext;
webpackEmptyContext.id = "(rsc)/./node_modules/mysql2/lib sync recursive ^cardinal.*$";
module.exports = webpackEmptyContext;

/***/ }),

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "buffer":
/*!*************************!*\
  !*** external "buffer" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("buffer");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("crypto");

/***/ }),

/***/ "events":
/*!*************************!*\
  !*** external "events" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("events");

/***/ }),

/***/ "net":
/*!**********************!*\
  !*** external "net" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("net");

/***/ }),

/***/ "process":
/*!**************************!*\
  !*** external "process" ***!
  \**************************/
/***/ ((module) => {

"use strict";
module.exports = require("process");

/***/ }),

/***/ "stream":
/*!*************************!*\
  !*** external "stream" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("stream");

/***/ }),

/***/ "string_decoder":
/*!*********************************!*\
  !*** external "string_decoder" ***!
  \*********************************/
/***/ ((module) => {

"use strict";
module.exports = require("string_decoder");

/***/ }),

/***/ "timers":
/*!*************************!*\
  !*** external "timers" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("timers");

/***/ }),

/***/ "tls":
/*!**********************!*\
  !*** external "tls" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("tls");

/***/ }),

/***/ "url":
/*!**********************!*\
  !*** external "url" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("url");

/***/ }),

/***/ "util":
/*!***********************!*\
  !*** external "util" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("util");

/***/ }),

/***/ "zlib":
/*!***********************!*\
  !*** external "zlib" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("zlib");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fly-comparison%2Froute&page=%2Fapi%2Fly-comparison%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fly-comparison%2Froute.ts&appDir=%2Fvar%2Fwww%2Fvhosts%2Fdevit.fit2run.com%2Fhttpdocs%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2Fvar%2Fwww%2Fvhosts%2Fdevit.fit2run.com%2Fhttpdocs&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!*********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fly-comparison%2Froute&page=%2Fapi%2Fly-comparison%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fly-comparison%2Froute.ts&appDir=%2Fvar%2Fwww%2Fvhosts%2Fdevit.fit2run.com%2Fhttpdocs%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2Fvar%2Fwww%2Fvhosts%2Fdevit.fit2run.com%2Fhttpdocs&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \*********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _var_www_vhosts_devit_fit2run_com_httpdocs_src_app_api_ly_comparison_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src/app/api/ly-comparison/route.ts */ \"(rsc)/./src/app/api/ly-comparison/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/ly-comparison/route\",\n        pathname: \"/api/ly-comparison\",\n        filename: \"route\",\n        bundlePath: \"app/api/ly-comparison/route\"\n    },\n    resolvedPagePath: \"/var/www/vhosts/devit.fit2run.com/httpdocs/src/app/api/ly-comparison/route.ts\",\n    nextConfigOutput,\n    userland: _var_www_vhosts_devit_fit2run_com_httpdocs_src_app_api_ly_comparison_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/api/ly-comparison/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZseS1jb21wYXJpc29uJTJGcm91dGUmcGFnZT0lMkZhcGklMkZseS1jb21wYXJpc29uJTJGcm91dGUmYXBwUGF0aHM9JnBhZ2VQYXRoPXByaXZhdGUtbmV4dC1hcHAtZGlyJTJGYXBpJTJGbHktY29tcGFyaXNvbiUyRnJvdXRlLnRzJmFwcERpcj0lMkZ2YXIlMkZ3d3clMkZ2aG9zdHMlMkZkZXZpdC5maXQycnVuLmNvbSUyRmh0dHBkb2NzJTJGc3JjJTJGYXBwJnBhZ2VFeHRlbnNpb25zPXRzeCZwYWdlRXh0ZW5zaW9ucz10cyZwYWdlRXh0ZW5zaW9ucz1qc3gmcGFnZUV4dGVuc2lvbnM9anMmcm9vdERpcj0lMkZ2YXIlMkZ3d3clMkZ2aG9zdHMlMkZkZXZpdC5maXQycnVuLmNvbSUyRmh0dHBkb2NzJmlzRGV2PXRydWUmdHNjb25maWdQYXRoPXRzY29uZmlnLmpzb24mYmFzZVBhdGg9JmFzc2V0UHJlZml4PSZuZXh0Q29uZmlnT3V0cHV0PSZwcmVmZXJyZWRSZWdpb249Jm1pZGRsZXdhcmVDb25maWc9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7QUFBc0c7QUFDdkM7QUFDYztBQUM2QjtBQUMxRztBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsZ0hBQW1CO0FBQzNDO0FBQ0EsY0FBYyx5RUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsWUFBWTtBQUNaLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxRQUFRLGlFQUFpRTtBQUN6RTtBQUNBO0FBQ0EsV0FBVyw0RUFBVztBQUN0QjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ3VIOztBQUV2SCIsInNvdXJjZXMiOlsid2VicGFjazovL2ZpdDJydW4tZGFzaGJvYXJkLz9lMDNkIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEFwcFJvdXRlUm91dGVNb2R1bGUgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUtbW9kdWxlcy9hcHAtcm91dGUvbW9kdWxlLmNvbXBpbGVkXCI7XG5pbXBvcnQgeyBSb3V0ZUtpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUta2luZFwiO1xuaW1wb3J0IHsgcGF0Y2hGZXRjaCBhcyBfcGF0Y2hGZXRjaCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2xpYi9wYXRjaC1mZXRjaFwiO1xuaW1wb3J0ICogYXMgdXNlcmxhbmQgZnJvbSBcIi92YXIvd3d3L3Zob3N0cy9kZXZpdC5maXQycnVuLmNvbS9odHRwZG9jcy9zcmMvYXBwL2FwaS9seS1jb21wYXJpc29uL3JvdXRlLnRzXCI7XG4vLyBXZSBpbmplY3QgdGhlIG5leHRDb25maWdPdXRwdXQgaGVyZSBzbyB0aGF0IHdlIGNhbiB1c2UgdGhlbSBpbiB0aGUgcm91dGVcbi8vIG1vZHVsZS5cbmNvbnN0IG5leHRDb25maWdPdXRwdXQgPSBcIlwiXG5jb25zdCByb3V0ZU1vZHVsZSA9IG5ldyBBcHBSb3V0ZVJvdXRlTW9kdWxlKHtcbiAgICBkZWZpbml0aW9uOiB7XG4gICAgICAgIGtpbmQ6IFJvdXRlS2luZC5BUFBfUk9VVEUsXG4gICAgICAgIHBhZ2U6IFwiL2FwaS9seS1jb21wYXJpc29uL3JvdXRlXCIsXG4gICAgICAgIHBhdGhuYW1lOiBcIi9hcGkvbHktY29tcGFyaXNvblwiLFxuICAgICAgICBmaWxlbmFtZTogXCJyb3V0ZVwiLFxuICAgICAgICBidW5kbGVQYXRoOiBcImFwcC9hcGkvbHktY29tcGFyaXNvbi9yb3V0ZVwiXG4gICAgfSxcbiAgICByZXNvbHZlZFBhZ2VQYXRoOiBcIi92YXIvd3d3L3Zob3N0cy9kZXZpdC5maXQycnVuLmNvbS9odHRwZG9jcy9zcmMvYXBwL2FwaS9seS1jb21wYXJpc29uL3JvdXRlLnRzXCIsXG4gICAgbmV4dENvbmZpZ091dHB1dCxcbiAgICB1c2VybGFuZFxufSk7XG4vLyBQdWxsIG91dCB0aGUgZXhwb3J0cyB0aGF0IHdlIG5lZWQgdG8gZXhwb3NlIGZyb20gdGhlIG1vZHVsZS4gVGhpcyBzaG91bGRcbi8vIGJlIGVsaW1pbmF0ZWQgd2hlbiB3ZSd2ZSBtb3ZlZCB0aGUgb3RoZXIgcm91dGVzIHRvIHRoZSBuZXcgZm9ybWF0LiBUaGVzZVxuLy8gYXJlIHVzZWQgdG8gaG9vayBpbnRvIHRoZSByb3V0ZS5cbmNvbnN0IHsgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MgfSA9IHJvdXRlTW9kdWxlO1xuY29uc3Qgb3JpZ2luYWxQYXRobmFtZSA9IFwiL2FwaS9seS1jb21wYXJpc29uL3JvdXRlXCI7XG5mdW5jdGlvbiBwYXRjaEZldGNoKCkge1xuICAgIHJldHVybiBfcGF0Y2hGZXRjaCh7XG4gICAgICAgIHNlcnZlckhvb2tzLFxuICAgICAgICBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlXG4gICAgfSk7XG59XG5leHBvcnQgeyByb3V0ZU1vZHVsZSwgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MsIG9yaWdpbmFsUGF0aG5hbWUsIHBhdGNoRmV0Y2gsICB9O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1hcHAtcm91dGUuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fly-comparison%2Froute&page=%2Fapi%2Fly-comparison%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fly-comparison%2Froute.ts&appDir=%2Fvar%2Fwww%2Fvhosts%2Fdevit.fit2run.com%2Fhttpdocs%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2Fvar%2Fwww%2Fvhosts%2Fdevit.fit2run.com%2Fhttpdocs&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./src/app/api/ly-comparison/route.ts":
/*!********************************************!*\
  !*** ./src/app/api/ly-comparison/route.ts ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ GET)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var mysql2_promise__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! mysql2/promise */ \"(rsc)/./node_modules/mysql2/promise.js\");\n\n\n// Database connection pool\nconst connection = mysql2_promise__WEBPACK_IMPORTED_MODULE_1__.createPool({\n    host: \"localhost\",\n    user: \"fit2run\",\n    password: \"Fit2Run1!\",\n    database: \"sales_data\",\n    waitForConnections: true,\n    connectionLimit: 10,\n    queueLimit: 0\n});\nasync function GET(request) {\n    try {\n        const { searchParams } = new URL(request.url);\n        const startDate = searchParams.get(\"startDate\");\n        const endDate = searchParams.get(\"endDate\");\n        const stores = searchParams.get(\"stores\") || \"all_stores\";\n        const vendor = searchParams.get(\"vendor\") || \"all\";\n        const category = searchParams.get(\"category\") || \"all\";\n        if (!startDate || !endDate) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Start date and end date are required\"\n            }, {\n                status: 400\n            });\n        }\n        const thisYearStart = new Date(startDate);\n        const thisYearEnd = new Date(endDate);\n        const lastYearStart = new Date(thisYearStart);\n        const lastYearEnd = new Date(thisYearEnd);\n        lastYearStart.setFullYear(lastYearStart.getFullYear() - 1);\n        lastYearEnd.setFullYear(lastYearEnd.getFullYear() - 1);\n        // Build dynamic filters\n        let storeFilter = \"\";\n        if (stores !== \"all_stores\") {\n            const storeList = stores.split(\",\").map((s)=>`'${s.replace(\"'\", \"''\")}'`).join(\",\");\n            storeFilter = `AND o.location IN (${storeList})`;\n        }\n        let categoryFilter = \"\";\n        switch(category){\n            case \"footwear\":\n                categoryFilter = \"AND c.Shopify_Class IN ('Performance', 'Trail', 'Racing', 'Speed', 'Lifestyle', 'Sandals', 'XC/Track')\";\n                break;\n            case \"apparel\":\n                categoryFilter = \"AND c.Shopify_Class IN ('Tops', 'Bottoms', 'Bras', 'Outerwear')\";\n                break;\n            case \"accessories\":\n                categoryFilter = \"AND c.Shopify_Class IN ('Socks', 'Headwear', 'Accessories', 'Compression', 'Hydration', 'Nutrition', 'Injury/Recovery', 'Bags/Belts', 'Insoles/Orthotics', 'GPS', 'Sunglasses', 'Electronic Accessories', 'Fitness', 'Safety', 'Jewelry', 'Skin Care', 'Headphones', 'Strollers', 'Laces/Spikes', 'GPS/HRM', 'Watches', 'Laces', 'Bike Accessories', 'Parts', 'Bags', 'Sunlasses', 'Foam Rollers', 'Rain Gear')\";\n                break;\n        }\n        let vendorFilter = \"\";\n        if (vendor !== \"all\") {\n            vendorFilter = `AND c.Vendor = '${vendor.replace(\"'\", \"''\")}'`;\n        }\n        const query = `\n      SELECT \n        c.CLU as upc,\n        COALESCE(NULLIF(oi.lineitem_name, ''), NULLIF(c.Description, '')) as productName,\n        c.Vendor as vendor,\n        CASE \n          WHEN c.Shopify_Class IN ('Performance', 'Trail', 'Racing', 'Speed', 'Lifestyle', 'Sandals', 'XC/Track') THEN 'Footwear'\n          WHEN c.Shopify_Class IN ('Tops', 'Bottoms', 'Bras', 'Outerwear') THEN 'Apparel'\n          WHEN c.Shopify_Class IN ('Socks', 'Headwear', 'Accessories', 'Compression', 'Hydration', 'Nutrition', 'Injury/Recovery', 'Bags/Belts', 'Insoles/Orthotics', 'GPS', 'Sunglasses', 'Electronic Accessories', 'Fitness', 'Safety', 'Jewelry', 'Skin Care', 'Headphones', 'Strollers', 'Laces/Spikes', 'GPS/HRM', 'Watches', 'Laces', 'Bike Accessories', 'Parts', 'Bags', 'Sunlasses', 'Foam Rollers', 'Rain Gear') THEN 'Accessories'\n          WHEN c.Shopify_Class IS NULL AND c.Shopify_Dept = 'Footwear' THEN 'Footwear'\n          WHEN c.Shopify_Class IS NULL AND c.Shopify_Dept = 'Apparel' THEN 'Apparel'\n          WHEN c.Shopify_Class IS NULL AND c.Shopify_Dept = 'Accessories' THEN 'Accessories'\n          ELSE 'Other'\n        END as category,\n        SUM(CASE WHEN DATE(o.created_at) BETWEEN ? AND ? \n            THEN oi.lineitem_price * oi.lineitem_quantity ELSE 0 END) as thisYearSales,\n        SUM(CASE WHEN DATE(o.created_at) BETWEEN ? AND ? \n            THEN oi.lineitem_price * oi.lineitem_quantity ELSE 0 END) as lastYearSales,\n        SUM(CASE WHEN DATE(o.created_at) BETWEEN ? AND ? \n            THEN oi.lineitem_quantity ELSE 0 END) as thisYearUnits,\n        SUM(CASE WHEN DATE(o.created_at) BETWEEN ? AND ? \n            THEN oi.lineitem_quantity ELSE 0 END) as lastYearUnits,\n        CASE \n          WHEN SUM(CASE WHEN DATE(o.created_at) BETWEEN ? AND ? \n                   THEN oi.lineitem_price * oi.lineitem_quantity ELSE 0 END) = 0 THEN \n            CASE WHEN SUM(CASE WHEN DATE(o.created_at) BETWEEN ? AND ? \n                         THEN oi.lineitem_price * oi.lineitem_quantity ELSE 0 END) > 0 THEN 100 ELSE 0 END\n          ELSE \n            ((SUM(CASE WHEN DATE(o.created_at) BETWEEN ? AND ? \n                  THEN oi.lineitem_price * oi.lineitem_quantity ELSE 0 END) - \n              SUM(CASE WHEN DATE(o.created_at) BETWEEN ? AND ? \n                  THEN oi.lineitem_price * oi.lineitem_quantity ELSE 0 END)) / \n             SUM(CASE WHEN DATE(o.created_at) BETWEEN ? AND ? \n                 THEN oi.lineitem_price * oi.lineitem_quantity ELSE 0 END)) * 100 \n        END as percentageChange,\n        (SUM(CASE WHEN DATE(o.created_at) BETWEEN ? AND ? \n             THEN oi.lineitem_price * oi.lineitem_quantity ELSE 0 END) - \n         SUM(CASE WHEN DATE(o.created_at) BETWEEN ? AND ? \n             THEN oi.lineitem_price * oi.lineitem_quantity ELSE 0 END)) as dollarChange\n      FROM shopify_orders o\n      JOIN shopify_order_items oi ON o.id = oi.order_id\n      JOIN fit2run_catalog c ON oi.lineitem_sku = c.CLU\n      WHERE (DATE(o.created_at) BETWEEN ? AND ?\n         OR DATE(o.created_at) BETWEEN ? AND ?)\n      ${storeFilter}\n      ${categoryFilter}\n      ${vendorFilter}\n      AND c.CLU IS NOT NULL AND c.CLU != ''\n      AND c.Description IS NOT NULL\n      AND c.Vendor IS NOT NULL AND c.Vendor != '' AND c.Vendor != 'Unknown Vendor'\n      GROUP BY c.CLU, productName, c.Vendor, category\n      HAVING (thisYearSales > 0 OR lastYearSales > 0)\n      ORDER BY ABS(dollarChange) DESC\n      LIMIT 200`;\n        const params = [\n            // thisYearSales calculation\n            thisYearStart.toISOString().split(\"T\")[0],\n            thisYearEnd.toISOString().split(\"T\")[0],\n            // lastYearSales calculation\n            lastYearStart.toISOString().split(\"T\")[0],\n            lastYearEnd.toISOString().split(\"T\")[0],\n            // thisYearUnits calculation\n            thisYearStart.toISOString().split(\"T\")[0],\n            thisYearEnd.toISOString().split(\"T\")[0],\n            // lastYearUnits calculation\n            lastYearStart.toISOString().split(\"T\")[0],\n            lastYearEnd.toISOString().split(\"T\")[0],\n            // percentageChange calculation (multiple references)\n            lastYearStart.toISOString().split(\"T\")[0],\n            lastYearEnd.toISOString().split(\"T\")[0],\n            thisYearStart.toISOString().split(\"T\")[0],\n            thisYearEnd.toISOString().split(\"T\")[0],\n            thisYearStart.toISOString().split(\"T\")[0],\n            thisYearEnd.toISOString().split(\"T\")[0],\n            lastYearStart.toISOString().split(\"T\")[0],\n            lastYearEnd.toISOString().split(\"T\")[0],\n            lastYearStart.toISOString().split(\"T\")[0],\n            lastYearEnd.toISOString().split(\"T\")[0],\n            // dollarChange calculation\n            thisYearStart.toISOString().split(\"T\")[0],\n            thisYearEnd.toISOString().split(\"T\")[0],\n            lastYearStart.toISOString().split(\"T\")[0],\n            lastYearEnd.toISOString().split(\"T\")[0],\n            // WHERE clause date ranges\n            thisYearStart.toISOString().split(\"T\")[0],\n            thisYearEnd.toISOString().split(\"T\")[0],\n            lastYearStart.toISOString().split(\"T\")[0],\n            lastYearEnd.toISOString().split(\"T\")[0]\n        ];\n        const [rows] = await connection.execute(query, params);\n        const data = rows;\n        // Calculate summary\n        const summary = {\n            totalThisYear: data.reduce((sum, item)=>sum + item.thisYearSales, 0),\n            totalLastYear: data.reduce((sum, item)=>sum + item.lastYearSales, 0),\n            totalUPCs: data.length,\n            positiveUPCs: data.filter((item)=>item.percentageChange > 0).length,\n            negativeUPCs: data.filter((item)=>item.percentageChange < 0).length,\n            totalPercentageChange: 0,\n            totalDollarChange: 0\n        };\n        summary.totalDollarChange = summary.totalThisYear - summary.totalLastYear;\n        summary.totalPercentageChange = summary.totalLastYear > 0 ? (summary.totalThisYear - summary.totalLastYear) / summary.totalLastYear * 100 : 0;\n        // Calculate brand summary if vendor is selected\n        let brandSummary = null;\n        if (vendor !== \"all\" && vendor) {\n            brandSummary = {\n                brand: vendor,\n                category: category === \"all\" ? \"All Categories\" : category === \"footwear\" ? \"Footwear\" : category === \"apparel\" ? \"Apparel\" : category === \"accessories\" ? \"Accessories\" : category,\n                thisYearSales: summary.totalThisYear,\n                lastYearSales: summary.totalLastYear,\n                thisYearUnits: data.reduce((sum, item)=>sum + item.thisYearUnits, 0),\n                lastYearUnits: data.reduce((sum, item)=>sum + item.lastYearUnits, 0),\n                uniqueProducts: data.length,\n                dollarChange: summary.totalDollarChange,\n                percentageChange: summary.totalPercentageChange\n            };\n        }\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            data,\n            summary,\n            brandSummary,\n            dateRanges: {\n                thisYearStart: thisYearStart.toISOString().split(\"T\")[0],\n                thisYearEnd: thisYearEnd.toISOString().split(\"T\")[0],\n                lastYearStart: lastYearStart.toISOString().split(\"T\")[0],\n                lastYearEnd: lastYearEnd.toISOString().split(\"T\")[0]\n            }\n        });\n    } catch (error) {\n        console.error(\"LY Comparison API error:\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: \"Internal server error\"\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvYXBwL2FwaS9seS1jb21wYXJpc29uL3JvdXRlLnRzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUF1RDtBQUNyQjtBQUVsQywyQkFBMkI7QUFDM0IsTUFBTUUsYUFBYUQsc0RBQWdCLENBQUM7SUFDbENHLE1BQU07SUFDTkMsTUFBTTtJQUNOQyxVQUFVO0lBQ1ZDLFVBQVU7SUFDVkMsb0JBQW9CO0lBQ3BCQyxpQkFBaUI7SUFDakJDLFlBQVk7QUFDZDtBQXFDTyxlQUFlQyxJQUFJQyxPQUFvQjtJQUM1QyxJQUFJO1FBQ0YsTUFBTSxFQUFFQyxZQUFZLEVBQUUsR0FBRyxJQUFJQyxJQUFJRixRQUFRRyxHQUFHO1FBQzVDLE1BQU1DLFlBQVlILGFBQWFJLEdBQUcsQ0FBQztRQUNuQyxNQUFNQyxVQUFVTCxhQUFhSSxHQUFHLENBQUM7UUFDakMsTUFBTUUsU0FBU04sYUFBYUksR0FBRyxDQUFDLGFBQWE7UUFDN0MsTUFBTUcsU0FBU1AsYUFBYUksR0FBRyxDQUFDLGFBQWE7UUFDN0MsTUFBTUksV0FBV1IsYUFBYUksR0FBRyxDQUFDLGVBQWU7UUFFakQsSUFBSSxDQUFDRCxhQUFhLENBQUNFLFNBQVM7WUFDMUIsT0FBT2xCLHFEQUFZQSxDQUFDc0IsSUFBSSxDQUFDO2dCQUFFQyxPQUFPO1lBQXVDLEdBQUc7Z0JBQUVDLFFBQVE7WUFBSTtRQUM1RjtRQUVBLE1BQU1DLGdCQUFnQixJQUFJQyxLQUFLVjtRQUMvQixNQUFNVyxjQUFjLElBQUlELEtBQUtSO1FBQzdCLE1BQU1VLGdCQUFnQixJQUFJRixLQUFLRDtRQUMvQixNQUFNSSxjQUFjLElBQUlILEtBQUtDO1FBRTdCQyxjQUFjRSxXQUFXLENBQUNGLGNBQWNHLFdBQVcsS0FBSztRQUN4REYsWUFBWUMsV0FBVyxDQUFDRCxZQUFZRSxXQUFXLEtBQUs7UUFFcEQsd0JBQXdCO1FBQ3hCLElBQUlDLGNBQWM7UUFDbEIsSUFBSWIsV0FBVyxjQUFjO1lBQzNCLE1BQU1jLFlBQVlkLE9BQU9lLEtBQUssQ0FB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QkFDdEQrQixlQUFlTCxRQUFRQyxhQUFhO2dCQUNwQ00sZUFBZVAsUUFBUU0sYUFBYTtnQkFDcENZLGVBQWVuQixLQUFLRyxNQUFNLENBQUMsQ0FBQ0MsS0FBS0MsT0FBU0QsTUFBTUMsS0FBS2MsYUFBYSxFQUFFO2dCQUNwRUMsZUFBZXBCLEtBQUtHLE1BQU0sQ0FBQyxDQUFDQyxLQUFLQyxPQUFTRCxNQUFNQyxLQUFLZSxhQUFhLEVBQUU7Z0JBQ3BFQyxnQkFBZ0JyQixLQUFLVSxNQUFNO2dCQUMzQlksY0FBY3JCLFFBQVFlLGlCQUFpQjtnQkFDdkNILGtCQUFrQlosUUFBUWMscUJBQXFCO1lBQ2pEO1FBQ0Y7UUFFQSxPQUFPN0QscURBQVlBLENBQUNzQixJQUFJLENBQUM7WUFDdkJ3QjtZQUNBQztZQUNBZ0I7WUFDQU0sWUFBWTtnQkFDVjVDLGVBQWVBLGNBQWNrQixXQUFXLEdBQUdULEtBQUssQ0FBQyxJQUFJLENBQUMsRUFBRTtnQkFDeERQLGFBQWFBLFlBQVlnQixXQUFXLEdBQUdULEtBQUssQ0FBQyxJQUFJLENBQUMsRUFBRTtnQkFDcEROLGVBQWVBLGNBQWNlLFdBQVcsR0FBR1QsS0FBSyxDQUFDLElBQUksQ0FBQyxFQUFFO2dCQUN4REwsYUFBYUEsWUFBWWMsV0FBVyxHQUFHVCxLQUFLLENBQUMsSUFBSSxDQUFDLEVBQUU7WUFDdEQ7UUFDRjtJQUVGLEVBQUUsT0FBT1gsT0FBTztRQUNkK0MsUUFBUS9DLEtBQUssQ0FBQyw0QkFBNEJBO1FBQzFDLE9BQU92QixxREFBWUEsQ0FBQ3NCLElBQUksQ0FBQztZQUFFQyxPQUFPO1FBQXdCLEdBQUc7WUFBRUMsUUFBUTtRQUFJO0lBQzdFO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9maXQycnVuLWRhc2hib2FyZC8uL3NyYy9hcHAvYXBpL2x5LWNvbXBhcmlzb24vcm91dGUudHM/Mjg3MyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBOZXh0UmVxdWVzdCwgTmV4dFJlc3BvbnNlIH0gZnJvbSAnbmV4dC9zZXJ2ZXInXG5pbXBvcnQgbXlzcWwgZnJvbSAnbXlzcWwyL3Byb21pc2UnXG5cbi8vIERhdGFiYXNlIGNvbm5lY3Rpb24gcG9vbFxuY29uc3QgY29ubmVjdGlvbiA9IG15c3FsLmNyZWF0ZVBvb2woe1xuICBob3N0OiAnbG9jYWxob3N0JyxcbiAgdXNlcjogJ2ZpdDJydW4nLFxuICBwYXNzd29yZDogJ0ZpdDJSdW4xIScsXG4gIGRhdGFiYXNlOiAnc2FsZXNfZGF0YScsXG4gIHdhaXRGb3JDb25uZWN0aW9uczogdHJ1ZSxcbiAgY29ubmVjdGlvbkxpbWl0OiAxMCxcbiAgcXVldWVMaW1pdDogMFxufSlcblxuaW50ZXJmYWNlIExZQ29tcGFyaXNvbkRhdGEge1xuICB1cGM6IHN0cmluZ1xuICBwcm9kdWN0TmFtZTogc3RyaW5nXG4gIHZlbmRvcjogc3RyaW5nXG4gIGNhdGVnb3J5OiBzdHJpbmdcbiAgdGhpc1llYXJTYWxlczogbnVtYmVyXG4gIGxhc3RZZWFyU2FsZXM6IG51bWJlclxuICBwZXJjZW50YWdlQ2hhbmdlOiBudW1iZXJcbiAgZG9sbGFyQ2hhbmdlOiBudW1iZXJcbiAgdGhpc1llYXJVbml0czogbnVtYmVyXG4gIGxhc3RZZWFyVW5pdHM6IG51bWJlclxufVxuXG5pbnRlcmZhY2UgQnJhbmRTdW1tYXJ5IHtcbiAgYnJhbmQ6IHN0cmluZ1xuICBjYXRlZ29yeTogc3RyaW5nXG4gIHRoaXNZZWFyU2FsZXM6IG51bWJlclxuICBsYXN0WWVhclNhbGVzOiBudW1iZXJcbiAgdGhpc1llYXJVbml0czogbnVtYmVyXG4gIGxhc3RZZWFyVW5pdHM6IG51bWJlclxuICBwZXJjZW50YWdlQ2hhbmdlOiBudW1iZXJcbiAgZG9sbGFyQ2hhbmdlOiBudW1iZXJcbiAgdW5pcXVlUHJvZHVjdHM6IG51bWJlclxufVxuXG5pbnRlcmZhY2UgTFlDb21wYXJpc29uU3VtbWFyeSB7XG4gIHRvdGFsVGhpc1llYXI6IG51bWJlclxuICB0b3RhbExhc3RZZWFyOiBudW1iZXJcbiAgdG90YWxQZXJjZW50YWdlQ2hhbmdlOiBudW1iZXJcbiAgdG90YWxEb2xsYXJDaGFuZ2U6IG51bWJlclxuICB0b3RhbFVQQ3M6IG51bWJlclxuICBwb3NpdGl2ZVVQQ3M6IG51bWJlclxuICBuZWdhdGl2ZVVQQ3M6IG51bWJlclxufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gR0VUKHJlcXVlc3Q6IE5leHRSZXF1ZXN0KSB7XG4gIHRyeSB7XG4gICAgY29uc3QgeyBzZWFyY2hQYXJhbXMgfSA9IG5ldyBVUkwocmVxdWVzdC51cmwpXG4gICAgY29uc3Qgc3RhcnREYXRlID0gc2VhcmNoUGFyYW1zLmdldCgnc3RhcnREYXRlJylcbiAgICBjb25zdCBlbmREYXRlID0gc2VhcmNoUGFyYW1zLmdldCgnZW5kRGF0ZScpXG4gICAgY29uc3Qgc3RvcmVzID0gc2VhcmNoUGFyYW1zLmdldCgnc3RvcmVzJykgfHwgJ2FsbF9zdG9yZXMnXG4gICAgY29uc3QgdmVuZG9yID0gc2VhcmNoUGFyYW1zLmdldCgndmVuZG9yJykgfHwgJ2FsbCdcbiAgICBjb25zdCBjYXRlZ29yeSA9IHNlYXJjaFBhcmFtcy5nZXQoJ2NhdGVnb3J5JykgfHwgJ2FsbCdcblxuICAgIGlmICghc3RhcnREYXRlIHx8ICFlbmREYXRlKSB7XG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBlcnJvcjogJ1N0YXJ0IGRhdGUgYW5kIGVuZCBkYXRlIGFyZSByZXF1aXJlZCcgfSwgeyBzdGF0dXM6IDQwMCB9KVxuICAgIH1cblxuICAgIGNvbnN0IHRoaXNZZWFyU3RhcnQgPSBuZXcgRGF0ZShzdGFydERhdGUpXG4gICAgY29uc3QgdGhpc1llYXJFbmQgPSBuZXcgRGF0ZShlbmREYXRlKVxuICAgIGNvbnN0IGxhc3RZZWFyU3RhcnQgPSBuZXcgRGF0ZSh0aGlzWWVhclN0YXJ0KVxuICAgIGNvbnN0IGxhc3RZZWFyRW5kID0gbmV3IERhdGUodGhpc1llYXJFbmQpXG4gICAgXG4gICAgbGFzdFllYXJTdGFydC5zZXRGdWxsWWVhcihsYXN0WWVhclN0YXJ0LmdldEZ1bGxZZWFyKCkgLSAxKVxuICAgIGxhc3RZZWFyRW5kLnNldEZ1bGxZZWFyKGxhc3RZZWFyRW5kLmdldEZ1bGxZZWFyKCkgLSAxKVxuXG4gICAgLy8gQnVpbGQgZHluYW1pYyBmaWx0ZXJzXG4gICAgbGV0IHN0b3JlRmlsdGVyID0gJydcbiAgICBpZiAoc3RvcmVzICE9PSAnYWxsX3N0b3JlcycpIHtcbiAgICAgIGNvbnN0IHN0b3JlTGlzdCA9IHN0b3Jlcy5zcGxpdCgnLCcpLm1hcChzID0+IGAnJHtzLnJlcGxhY2UoXCInXCIsIFwiJydcIil9J2ApLmpvaW4oJywnKVxuICAgICAgc3RvcmVGaWx0ZXIgPSBgQU5EIG8ubG9jYXRpb24gSU4gKCR7c3RvcmVMaXN0fSlgXG4gICAgfVxuXG4gICAgbGV0IGNhdGVnb3J5RmlsdGVyID0gJydcbiAgICBzd2l0Y2ggKGNhdGVnb3J5KSB7XG4gICAgICBjYXNlICdmb290d2Vhcic6XG4gICAgICAgIGNhdGVnb3J5RmlsdGVyID0gXCJBTkQgYy5TaG9waWZ5X0NsYXNzIElOICgnUGVyZm9ybWFuY2UnLCAnVHJhaWwnLCAnUmFjaW5nJywgJ1NwZWVkJywgJ0xpZmVzdHlsZScsICdTYW5kYWxzJywgJ1hDL1RyYWNrJylcIlxuICAgICAgICBicmVha1xuICAgICAgY2FzZSAnYXBwYXJlbCc6XG4gICAgICAgIGNhdGVnb3J5RmlsdGVyID0gXCJBTkQgYy5TaG9waWZ5X0NsYXNzIElOICgnVG9wcycsICdCb3R0b21zJywgJ0JyYXMnLCAnT3V0ZXJ3ZWFyJylcIlxuICAgICAgICBicmVha1xuICAgICAgY2FzZSAnYWNjZXNzb3JpZXMnOlxuICAgICAgICBjYXRlZ29yeUZpbHRlciA9IFwiQU5EIGMuU2hvcGlmeV9DbGFzcyBJTiAoJ1NvY2tzJywgJ0hlYWR3ZWFyJywgJ0FjY2Vzc29yaWVzJywgJ0NvbXByZXNzaW9uJywgJ0h5ZHJhdGlvbicsICdOdXRyaXRpb24nLCAnSW5qdXJ5L1JlY292ZXJ5JywgJ0JhZ3MvQmVsdHMnLCAnSW5zb2xlcy9PcnRob3RpY3MnLCAnR1BTJywgJ1N1bmdsYXNzZXMnLCAnRWxlY3Ryb25pYyBBY2Nlc3NvcmllcycsICdGaXRuZXNzJywgJ1NhZmV0eScsICdKZXdlbHJ5JywgJ1NraW4gQ2FyZScsICdIZWFkcGhvbmVzJywgJ1N0cm9sbGVycycsICdMYWNlcy9TcGlrZXMnLCAnR1BTL0hSTScsICdXYXRjaGVzJywgJ0xhY2VzJywgJ0Jpa2UgQWNjZXNzb3JpZXMnLCAnUGFydHMnLCAnQmFncycsICdTdW5sYXNzZXMnLCAnRm9hbSBSb2xsZXJzJywgJ1JhaW4gR2VhcicpXCJcbiAgICAgICAgYnJlYWtcbiAgICB9XG5cbiAgICBsZXQgdmVuZG9yRmlsdGVyID0gJydcbiAgICBpZiAodmVuZG9yICE9PSAnYWxsJykge1xuICAgICAgdmVuZG9yRmlsdGVyID0gYEFORCBjLlZlbmRvciA9ICcke3ZlbmRvci5yZXBsYWNlKFwiJ1wiLCBcIicnXCIpfSdgXG4gICAgfVxuXG4gICAgY29uc3QgcXVlcnkgPSBgXG4gICAgICBTRUxFQ1QgXG4gICAgICAgIGMuQ0xVIGFzIHVwYyxcbiAgICAgICAgQ09BTEVTQ0UoTlVMTElGKG9pLmxpbmVpdGVtX25hbWUsICcnKSwgTlVMTElGKGMuRGVzY3JpcHRpb24sICcnKSkgYXMgcHJvZHVjdE5hbWUsXG4gICAgICAgIGMuVmVuZG9yIGFzIHZlbmRvcixcbiAgICAgICAgQ0FTRSBcbiAgICAgICAgICBXSEVOIGMuU2hvcGlmeV9DbGFzcyBJTiAoJ1BlcmZvcm1hbmNlJywgJ1RyYWlsJywgJ1JhY2luZycsICdTcGVlZCcsICdMaWZlc3R5bGUnLCAnU2FuZGFscycsICdYQy9UcmFjaycpIFRIRU4gJ0Zvb3R3ZWFyJ1xuICAgICAgICAgIFdIRU4gYy5TaG9waWZ5X0NsYXNzIElOICgnVG9wcycsICdCb3R0b21zJywgJ0JyYXMnLCAnT3V0ZXJ3ZWFyJykgVEhFTiAnQXBwYXJlbCdcbiAgICAgICAgICBXSEVOIGMuU2hvcGlmeV9DbGFzcyBJTiAoJ1NvY2tzJywgJ0hlYWR3ZWFyJywgJ0FjY2Vzc29yaWVzJywgJ0NvbXByZXNzaW9uJywgJ0h5ZHJhdGlvbicsICdOdXRyaXRpb24nLCAnSW5qdXJ5L1JlY292ZXJ5JywgJ0JhZ3MvQmVsdHMnLCAnSW5zb2xlcy9PcnRob3RpY3MnLCAnR1BTJywgJ1N1bmdsYXNzZXMnLCAnRWxlY3Ryb25pYyBBY2Nlc3NvcmllcycsICdGaXRuZXNzJywgJ1NhZmV0eScsICdKZXdlbHJ5JywgJ1NraW4gQ2FyZScsICdIZWFkcGhvbmVzJywgJ1N0cm9sbGVycycsICdMYWNlcy9TcGlrZXMnLCAnR1BTL0hSTScsICdXYXRjaGVzJywgJ0xhY2VzJywgJ0Jpa2UgQWNjZXNzb3JpZXMnLCAnUGFydHMnLCAnQmFncycsICdTdW5sYXNzZXMnLCAnRm9hbSBSb2xsZXJzJywgJ1JhaW4gR2VhcicpIFRIRU4gJ0FjY2Vzc29yaWVzJ1xuICAgICAgICAgIFdIRU4gYy5TaG9waWZ5X0NsYXNzIElTIE5VTEwgQU5EIGMuU2hvcGlmeV9EZXB0ID0gJ0Zvb3R3ZWFyJyBUSEVOICdGb290d2VhcidcbiAgICAgICAgICBXSEVOIGMuU2hvcGlmeV9DbGFzcyBJUyBOVUxMIEFORCBjLlNob3BpZnlfRGVwdCA9ICdBcHBhcmVsJyBUSEVOICdBcHBhcmVsJ1xuICAgICAgICAgIFdIRU4gYy5TaG9waWZ5X0NsYXNzIElTIE5VTEwgQU5EIGMuU2hvcGlmeV9EZXB0ID0gJ0FjY2Vzc29yaWVzJyBUSEVOICdBY2Nlc3NvcmllcydcbiAgICAgICAgICBFTFNFICdPdGhlcidcbiAgICAgICAgRU5EIGFzIGNhdGVnb3J5LFxuICAgICAgICBTVU0oQ0FTRSBXSEVOIERBVEUoby5jcmVhdGVkX2F0KSBCRVRXRUVOID8gQU5EID8gXG4gICAgICAgICAgICBUSEVOIG9pLmxpbmVpdGVtX3ByaWNlICogb2kubGluZWl0ZW1fcXVhbnRpdHkgRUxTRSAwIEVORCkgYXMgdGhpc1llYXJTYWxlcyxcbiAgICAgICAgU1VNKENBU0UgV0hFTiBEQVRFKG8uY3JlYXRlZF9hdCkgQkVUV0VFTiA/IEFORCA/IFxuICAgICAgICAgICAgVEhFTiBvaS5saW5laXRlbV9wcmljZSAqIG9pLmxpbmVpdGVtX3F1YW50aXR5IEVMU0UgMCBFTkQpIGFzIGxhc3RZZWFyU2FsZXMsXG4gICAgICAgIFNVTShDQVNFIFdIRU4gREFURShvLmNyZWF0ZWRfYXQpIEJFVFdFRU4gPyBBTkQgPyBcbiAgICAgICAgICAgIFRIRU4gb2kubGluZWl0ZW1fcXVhbnRpdHkgRUxTRSAwIEVORCkgYXMgdGhpc1llYXJVbml0cyxcbiAgICAgICAgU1VNKENBU0UgV0hFTiBEQVRFKG8uY3JlYXRlZF9hdCkgQkVUV0VFTiA/IEFORCA/IFxuICAgICAgICAgICAgVEhFTiBvaS5saW5laXRlbV9xdWFudGl0eSBFTFNFIDAgRU5EKSBhcyBsYXN0WWVhclVuaXRzLFxuICAgICAgICBDQVNFIFxuICAgICAgICAgIFdIRU4gU1VNKENBU0UgV0hFTiBEQVRFKG8uY3JlYXRlZF9hdCkgQkVUV0VFTiA/IEFORCA/IFxuICAgICAgICAgICAgICAgICAgIFRIRU4gb2kubGluZWl0ZW1fcHJpY2UgKiBvaS5saW5laXRlbV9xdWFudGl0eSBFTFNFIDAgRU5EKSA9IDAgVEhFTiBcbiAgICAgICAgICAgIENBU0UgV0hFTiBTVU0oQ0FTRSBXSEVOIERBVEUoby5jcmVhdGVkX2F0KSBCRVRXRUVOID8gQU5EID8gXG4gICAgICAgICAgICAgICAgICAgICAgICAgVEhFTiBvaS5saW5laXRlbV9wcmljZSAqIG9pLmxpbmVpdGVtX3F1YW50aXR5IEVMU0UgMCBFTkQpID4gMCBUSEVOIDEwMCBFTFNFIDAgRU5EXG4gICAgICAgICAgRUxTRSBcbiAgICAgICAgICAgICgoU1VNKENBU0UgV0hFTiBEQVRFKG8uY3JlYXRlZF9hdCkgQkVUV0VFTiA/IEFORCA/IFxuICAgICAgICAgICAgICAgICAgVEhFTiBvaS5saW5laXRlbV9wcmljZSAqIG9pLmxpbmVpdGVtX3F1YW50aXR5IEVMU0UgMCBFTkQpIC0gXG4gICAgICAgICAgICAgIFNVTShDQVNFIFdIRU4gREFURShvLmNyZWF0ZWRfYXQpIEJFVFdFRU4gPyBBTkQgPyBcbiAgICAgICAgICAgICAgICAgIFRIRU4gb2kubGluZWl0ZW1fcHJpY2UgKiBvaS5saW5laXRlbV9xdWFudGl0eSBFTFNFIDAgRU5EKSkgLyBcbiAgICAgICAgICAgICBTVU0oQ0FTRSBXSEVOIERBVEUoby5jcmVhdGVkX2F0KSBCRVRXRUVOID8gQU5EID8gXG4gICAgICAgICAgICAgICAgIFRIRU4gb2kubGluZWl0ZW1fcHJpY2UgKiBvaS5saW5laXRlbV9xdWFudGl0eSBFTFNFIDAgRU5EKSkgKiAxMDAgXG4gICAgICAgIEVORCBhcyBwZXJjZW50YWdlQ2hhbmdlLFxuICAgICAgICAoU1VNKENBU0UgV0hFTiBEQVRFKG8uY3JlYXRlZF9hdCkgQkVUV0VFTiA/IEFORCA/IFxuICAgICAgICAgICAgIFRIRU4gb2kubGluZWl0ZW1fcHJpY2UgKiBvaS5saW5laXRlbV9xdWFudGl0eSBFTFNFIDAgRU5EKSAtIFxuICAgICAgICAgU1VNKENBU0UgV0hFTiBEQVRFKG8uY3JlYXRlZF9hdCkgQkVUV0VFTiA/IEFORCA/IFxuICAgICAgICAgICAgIFRIRU4gb2kubGluZWl0ZW1fcHJpY2UgKiBvaS5saW5laXRlbV9xdWFudGl0eSBFTFNFIDAgRU5EKSkgYXMgZG9sbGFyQ2hhbmdlXG4gICAgICBGUk9NIHNob3BpZnlfb3JkZXJzIG9cbiAgICAgIEpPSU4gc2hvcGlmeV9vcmRlcl9pdGVtcyBvaSBPTiBvLmlkID0gb2kub3JkZXJfaWRcbiAgICAgIEpPSU4gZml0MnJ1bl9jYXRhbG9nIGMgT04gb2kubGluZWl0ZW1fc2t1ID0gYy5DTFVcbiAgICAgIFdIRVJFIChEQVRFKG8uY3JlYXRlZF9hdCkgQkVUV0VFTiA/IEFORCA/XG4gICAgICAgICBPUiBEQVRFKG8uY3JlYXRlZF9hdCkgQkVUV0VFTiA/IEFORCA/KVxuICAgICAgJHtzdG9yZUZpbHRlcn1cbiAgICAgICR7Y2F0ZWdvcnlGaWx0ZXJ9XG4gICAgICAke3ZlbmRvckZpbHRlcn1cbiAgICAgIEFORCBjLkNMVSBJUyBOT1QgTlVMTCBBTkQgYy5DTFUgIT0gJydcbiAgICAgIEFORCBjLkRlc2NyaXB0aW9uIElTIE5PVCBOVUxMXG4gICAgICBBTkQgYy5WZW5kb3IgSVMgTk9UIE5VTEwgQU5EIGMuVmVuZG9yICE9ICcnIEFORCBjLlZlbmRvciAhPSAnVW5rbm93biBWZW5kb3InXG4gICAgICBHUk9VUCBCWSBjLkNMVSwgcHJvZHVjdE5hbWUsIGMuVmVuZG9yLCBjYXRlZ29yeVxuICAgICAgSEFWSU5HICh0aGlzWWVhclNhbGVzID4gMCBPUiBsYXN0WWVhclNhbGVzID4gMClcbiAgICAgIE9SREVSIEJZIEFCUyhkb2xsYXJDaGFuZ2UpIERFU0NcbiAgICAgIExJTUlUIDIwMGBcblxuICAgIGNvbnN0IHBhcmFtcyA9IFtcbiAgICAgIC8vIHRoaXNZZWFyU2FsZXMgY2FsY3VsYXRpb25cbiAgICAgIHRoaXNZZWFyU3RhcnQudG9JU09TdHJpbmcoKS5zcGxpdCgnVCcpWzBdLFxuICAgICAgdGhpc1llYXJFbmQudG9JU09TdHJpbmcoKS5zcGxpdCgnVCcpWzBdLFxuICAgICAgLy8gbGFzdFllYXJTYWxlcyBjYWxjdWxhdGlvblxuICAgICAgbGFzdFllYXJTdGFydC50b0lTT1N0cmluZygpLnNwbGl0KCdUJylbMF0sXG4gICAgICBsYXN0WWVhckVuZC50b0lTT1N0cmluZygpLnNwbGl0KCdUJylbMF0sXG4gICAgICAvLyB0aGlzWWVhclVuaXRzIGNhbGN1bGF0aW9uXG4gICAgICB0aGlzWWVhclN0YXJ0LnRvSVNPU3RyaW5nKCkuc3BsaXQoJ1QnKVswXSxcbiAgICAgIHRoaXNZZWFyRW5kLnRvSVNPU3RyaW5nKCkuc3BsaXQoJ1QnKVswXSxcbiAgICAgIC8vIGxhc3RZZWFyVW5pdHMgY2FsY3VsYXRpb25cbiAgICAgIGxhc3RZZWFyU3RhcnQudG9JU09TdHJpbmcoKS5zcGxpdCgnVCcpWzBdLFxuICAgICAgbGFzdFllYXJFbmQudG9JU09TdHJpbmcoKS5zcGxpdCgnVCcpWzBdLFxuICAgICAgLy8gcGVyY2VudGFnZUNoYW5nZSBjYWxjdWxhdGlvbiAobXVsdGlwbGUgcmVmZXJlbmNlcylcbiAgICAgIGxhc3RZZWFyU3RhcnQudG9JU09TdHJpbmcoKS5zcGxpdCgnVCcpWzBdLFxuICAgICAgbGFzdFllYXJFbmQudG9JU09TdHJpbmcoKS5zcGxpdCgnVCcpWzBdLFxuICAgICAgdGhpc1llYXJTdGFydC50b0lTT1N0cmluZygpLnNwbGl0KCdUJylbMF0sXG4gICAgICB0aGlzWWVhckVuZC50b0lTT1N0cmluZygpLnNwbGl0KCdUJylbMF0sXG4gICAgICB0aGlzWWVhclN0YXJ0LnRvSVNPU3RyaW5nKCkuc3BsaXQoJ1QnKVswXSxcbiAgICAgIHRoaXNZZWFyRW5kLnRvSVNPU3RyaW5nKCkuc3BsaXQoJ1QnKVswXSxcbiAgICAgIGxhc3RZZWFyU3RhcnQudG9JU09TdHJpbmcoKS5zcGxpdCgnVCcpWzBdLFxuICAgICAgbGFzdFllYXJFbmQudG9JU09TdHJpbmcoKS5zcGxpdCgnVCcpWzBdLFxuICAgICAgbGFzdFllYXJTdGFydC50b0lTT1N0cmluZygpLnNwbGl0KCdUJylbMF0sXG4gICAgICBsYXN0WWVhckVuZC50b0lTT1N0cmluZygpLnNwbGl0KCdUJylbMF0sXG4gICAgICAvLyBkb2xsYXJDaGFuZ2UgY2FsY3VsYXRpb25cbiAgICAgIHRoaXNZZWFyU3RhcnQudG9JU09TdHJpbmcoKS5zcGxpdCgnVCcpWzBdLFxuICAgICAgdGhpc1llYXJFbmQudG9JU09TdHJpbmcoKS5zcGxpdCgnVCcpWzBdLFxuICAgICAgbGFzdFllYXJTdGFydC50b0lTT1N0cmluZygpLnNwbGl0KCdUJylbMF0sXG4gICAgICBsYXN0WWVhckVuZC50b0lTT1N0cmluZygpLnNwbGl0KCdUJylbMF0sXG4gICAgICAvLyBXSEVSRSBjbGF1c2UgZGF0ZSByYW5nZXNcbiAgICAgIHRoaXNZZWFyU3RhcnQudG9JU09TdHJpbmcoKS5zcGxpdCgnVCcpWzBdLFxuICAgICAgdGhpc1llYXJFbmQudG9JU09TdHJpbmcoKS5zcGxpdCgnVCcpWzBdLFxuICAgICAgbGFzdFllYXJTdGFydC50b0lTT1N0cmluZygpLnNwbGl0KCdUJylbMF0sXG4gICAgICBsYXN0WWVhckVuZC50b0lTT1N0cmluZygpLnNwbGl0KCdUJylbMF1cbiAgICBdXG5cbiAgICBjb25zdCBbcm93c10gPSBhd2FpdCBjb25uZWN0aW9uLmV4ZWN1dGUocXVlcnksIHBhcmFtcylcbiAgICBjb25zdCBkYXRhID0gcm93cyBhcyBMWUNvbXBhcmlzb25EYXRhW11cblxuICAgIC8vIENhbGN1bGF0ZSBzdW1tYXJ5XG4gICAgY29uc3Qgc3VtbWFyeTogTFlDb21wYXJpc29uU3VtbWFyeSA9IHtcbiAgICAgIHRvdGFsVGhpc1llYXI6IGRhdGEucmVkdWNlKChzdW0sIGl0ZW0pID0+IHN1bSArIGl0ZW0udGhpc1llYXJTYWxlcywgMCksXG4gICAgICB0b3RhbExhc3RZZWFyOiBkYXRhLnJlZHVjZSgoc3VtLCBpdGVtKSA9PiBzdW0gKyBpdGVtLmxhc3RZZWFyU2FsZXMsIDApLFxuICAgICAgdG90YWxVUENzOiBkYXRhLmxlbmd0aCxcbiAgICAgIHBvc2l0aXZlVVBDczogZGF0YS5maWx0ZXIoaXRlbSA9PiBpdGVtLnBlcmNlbnRhZ2VDaGFuZ2UgPiAwKS5sZW5ndGgsXG4gICAgICBuZWdhdGl2ZVVQQ3M6IGRhdGEuZmlsdGVyKGl0ZW0gPT4gaXRlbS5wZXJjZW50YWdlQ2hhbmdlIDwgMCkubGVuZ3RoLFxuICAgICAgdG90YWxQZXJjZW50YWdlQ2hhbmdlOiAwLFxuICAgICAgdG90YWxEb2xsYXJDaGFuZ2U6IDBcbiAgICB9XG5cbiAgICBzdW1tYXJ5LnRvdGFsRG9sbGFyQ2hhbmdlID0gc3VtbWFyeS50b3RhbFRoaXNZZWFyIC0gc3VtbWFyeS50b3RhbExhc3RZZWFyXG4gICAgc3VtbWFyeS50b3RhbFBlcmNlbnRhZ2VDaGFuZ2UgPSBzdW1tYXJ5LnRvdGFsTGFzdFllYXIgPiAwIFxuICAgICAgPyAoKHN1bW1hcnkudG90YWxUaGlzWWVhciAtIHN1bW1hcnkudG90YWxMYXN0WWVhcikgLyBzdW1tYXJ5LnRvdGFsTGFzdFllYXIpICogMTAwIFxuICAgICAgOiAwXG5cbiAgICAvLyBDYWxjdWxhdGUgYnJhbmQgc3VtbWFyeSBpZiB2ZW5kb3IgaXMgc2VsZWN0ZWRcbiAgICBsZXQgYnJhbmRTdW1tYXJ5OiBCcmFuZFN1bW1hcnkgfCBudWxsID0gbnVsbFxuICAgIGlmICh2ZW5kb3IgIT09ICdhbGwnICYmIHZlbmRvcikge1xuICAgICAgYnJhbmRTdW1tYXJ5ID0ge1xuICAgICAgICBicmFuZDogdmVuZG9yLFxuICAgICAgICBjYXRlZ29yeTogY2F0ZWdvcnkgPT09ICdhbGwnID8gJ0FsbCBDYXRlZ29yaWVzJyA6IFxuICAgICAgICAgICAgICAgICBjYXRlZ29yeSA9PT0gJ2Zvb3R3ZWFyJyA/ICdGb290d2VhcicgOiBcbiAgICAgICAgICAgICAgICAgY2F0ZWdvcnkgPT09ICdhcHBhcmVsJyA/ICdBcHBhcmVsJyA6IFxuICAgICAgICAgICAgICAgICBjYXRlZ29yeSA9PT0gJ2FjY2Vzc29yaWVzJyA/ICdBY2Nlc3NvcmllcycgOiBjYXRlZ29yeSxcbiAgICAgICAgdGhpc1llYXJTYWxlczogc3VtbWFyeS50b3RhbFRoaXNZZWFyLFxuICAgICAgICBsYXN0WWVhclNhbGVzOiBzdW1tYXJ5LnRvdGFsTGFzdFllYXIsXG4gICAgICAgIHRoaXNZZWFyVW5pdHM6IGRhdGEucmVkdWNlKChzdW0sIGl0ZW0pID0+IHN1bSArIGl0ZW0udGhpc1llYXJVbml0cywgMCksXG4gICAgICAgIGxhc3RZZWFyVW5pdHM6IGRhdGEucmVkdWNlKChzdW0sIGl0ZW0pID0+IHN1bSArIGl0ZW0ubGFzdFllYXJVbml0cywgMCksXG4gICAgICAgIHVuaXF1ZVByb2R1Y3RzOiBkYXRhLmxlbmd0aCxcbiAgICAgICAgZG9sbGFyQ2hhbmdlOiBzdW1tYXJ5LnRvdGFsRG9sbGFyQ2hhbmdlLFxuICAgICAgICBwZXJjZW50YWdlQ2hhbmdlOiBzdW1tYXJ5LnRvdGFsUGVyY2VudGFnZUNoYW5nZVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7XG4gICAgICBkYXRhLFxuICAgICAgc3VtbWFyeSxcbiAgICAgIGJyYW5kU3VtbWFyeSxcbiAgICAgIGRhdGVSYW5nZXM6IHtcbiAgICAgICAgdGhpc1llYXJTdGFydDogdGhpc1llYXJTdGFydC50b0lTT1N0cmluZygpLnNwbGl0KCdUJylbMF0sXG4gICAgICAgIHRoaXNZZWFyRW5kOiB0aGlzWWVhckVuZC50b0lTT1N0cmluZygpLnNwbGl0KCdUJylbMF0sXG4gICAgICAgIGxhc3RZZWFyU3RhcnQ6IGxhc3RZZWFyU3RhcnQudG9JU09TdHJpbmcoKS5zcGxpdCgnVCcpWzBdLFxuICAgICAgICBsYXN0WWVhckVuZDogbGFzdFllYXJFbmQudG9JU09TdHJpbmcoKS5zcGxpdCgnVCcpWzBdXG4gICAgICB9XG4gICAgfSlcblxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0xZIENvbXBhcmlzb24gQVBJIGVycm9yOicsIGVycm9yKVxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IGVycm9yOiAnSW50ZXJuYWwgc2VydmVyIGVycm9yJyB9LCB7IHN0YXR1czogNTAwIH0pXG4gIH1cbn0iXSwibmFtZXMiOlsiTmV4dFJlc3BvbnNlIiwibXlzcWwiLCJjb25uZWN0aW9uIiwiY3JlYXRlUG9vbCIsImhvc3QiLCJ1c2VyIiwicGFzc3dvcmQiLCJkYXRhYmFzZSIsIndhaXRGb3JDb25uZWN0aW9ucyIsImNvbm5lY3Rpb25MaW1pdCIsInF1ZXVlTGltaXQiLCJHRVQiLCJyZXF1ZXN0Iiwic2VhcmNoUGFyYW1zIiwiVVJMIiwidXJsIiwic3RhcnREYXRlIiwiZ2V0IiwiZW5kRGF0ZSIsInN0b3JlcyIsInZlbmRvciIsImNhdGVnb3J5IiwianNvbiIsImVycm9yIiwic3RhdHVzIiwidGhpc1llYXJTdGFydCIsIkRhdGUiLCJ0aGlzWWVhckVuZCIsImxhc3RZZWFyU3RhcnQiLCJsYXN0WWVhckVuZCIsInNldEZ1bGxZZWFyIiwiZ2V0RnVsbFllYXIiLCJzdG9yZUZpbHRlciIsInN0b3JlTGlzdCIsInNwbGl0IiwibWFwIiwicyIsInJlcGxhY2UiLCJqb2luIiwiY2F0ZWdvcnlGaWx0ZXIiLCJ2ZW5kb3JGaWx0ZXIiLCJxdWVyeSIsInBhcmFtcyIsInRvSVNPU3RyaW5nIiwicm93cyIsImV4ZWN1dGUiLCJkYXRhIiwic3VtbWFyeSIsInRvdGFsVGhpc1llYXIiLCJyZWR1Y2UiLCJzdW0iLCJpdGVtIiwidGhpc1llYXJTYWxlcyIsInRvdGFsTGFzdFllYXIiLCJsYXN0WWVhclNhbGVzIiwidG90YWxVUENzIiwibGVuZ3RoIiwicG9zaXRpdmVVUENzIiwiZmlsdGVyIiwicGVyY2VudGFnZUNoYW5nZSIsIm5lZ2F0aXZlVVBDcyIsInRvdGFsUGVyY2VudGFnZUNoYW5nZSIsInRvdGFsRG9sbGFyQ2hhbmdlIiwiYnJhbmRTdW1tYXJ5IiwiYnJhbmQiLCJ0aGlzWWVhclVuaXRzIiwibGFzdFllYXJVbml0cyIsInVuaXF1ZVByb2R1Y3RzIiwiZG9sbGFyQ2hhbmdlIiwiZGF0ZVJhbmdlcyIsImNvbnNvbGUiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/app/api/ly-comparison/route.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/mysql2","vendor-chunks/aws-ssl-profiles","vendor-chunks/iconv-lite","vendor-chunks/next","vendor-chunks/long","vendor-chunks/lru-cache","vendor-chunks/denque","vendor-chunks/is-property","vendor-chunks/lru.min","vendor-chunks/sqlstring","vendor-chunks/seq-queue","vendor-chunks/named-placeholders","vendor-chunks/generate-function","vendor-chunks/safer-buffer"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fly-comparison%2Froute&page=%2Fapi%2Fly-comparison%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fly-comparison%2Froute.ts&appDir=%2Fvar%2Fwww%2Fvhosts%2Fdevit.fit2run.com%2Fhttpdocs%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2Fvar%2Fwww%2Fvhosts%2Fdevit.fit2run.com%2Fhttpdocs&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();